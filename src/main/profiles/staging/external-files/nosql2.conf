#NOSQL_CONF

###########################################
#### COMMON PROPERTIES
###########################################

## When TEST_MODE is set, All Cache operation will be blocked.
TEST_MODE = N

## NosqlCache Blocking Section
REDIS_BLOCKING=N
HBASE_BLOCKING=N

# NoSQL Total Check Time
RESPONSE_TOATAL_CHECK_TIME_MILLI = 500

# Hbase / Redis Check Time
RESPONSE_CHECK_TIME_MICRO = 100000

RESPONSE_ALL_CHECK = N

# Response Check List(When RESPONSE_ALL_CHECK is 'N',  ex : lgvod178|lgvod179|lgvod177)
#RESPONSE_CHECK_LIST = getCTVContEpisode_selectInfoImage

###########################################
#### LOGGING POLICY
###########################################

## LOG_LEVEL: DEBUG, INFO, WARN,  ERROR
## LOG_TYPE: EXACT, ABOVE

LOG_PATH = /data/logs/nosql_comm/log2/log
LOG_PATTERN = /data/logs/nosql_comm/log2/%d{yyyMMdd,aux}/log.%d{yyyy-MM-dd}.%i
LOG_FILE_SIZE = 10MB
LOG_LEVEL=INFO
LOG_TYPE=ABOVE

###########################################
#### CACHE STATISTICS POLICY
###########################################

#### 1. mode on/off
STATS_LOGGING_HBASE_BIRTH_TURN_OFF=N
STATS_LOGGING_HBASE_REFRESH_TURN_OFF=N
STATS_LOGGING_HBASE_DISABLED_TURN_OFF=N

STATS_LOGGING_REDIS_BIRTH_TURN_OFF=N
STATS_LOGGING_REDIS_REFRESH_TURN_OFF=N
STATS_LOGGING_REDIS_DISABLED_TURN_OFF=N

#### 2. categories of statistics.
## [M|S|A] [Y|M|D|H] [S|T]
## M : Counts for each sql_id (sql_id contains 'service_id', 'sql_seq or name', and 'modified_date'
## S : Counts for each service_id & sql_seq
## A : Counts for service_id

## Y|M|D|H : Year/Month/Day/Hour

## S|T : Sequence before time | time before sequence.

STAT_TYPE_BIRTH=MDT,MDS,ADT,ADS
STAT_TYPE_REFRESH=SHT,SHS,SDT,SDS,ADT,ADS
STAT_TYPE_DISABLE=ADT,ADS,SDT,SDS


###########################################
#### REDIS CONNECTION
###########################################

#### 2. Long Query properties.
## When Long-Query fails, the below property will be used.

#### C Version Naming ####
LONG_QUERY_OMD_CHECK_INTERVAL_TIME_SEC = 120

#### 3. Server configuration.
REDIS_SERVER_NUM = 2
REDIS_SERVER_1 = NSQLRS01
REDIS_PORT_1 =   6379
REDIS_SERVER_2 = NSQLRS02
REDIS_PORT_2 =   6379
REDIS_TIMEOUT_SEC = 0
REDIS_TIMEOUT_MICRO_SEC = 500000
REDIS_RETRY_INTERVAL_SEC = 60

#### 4. Redis Pool Configuration
#### C Version Naming ####
REDIS_CONNECTION_THREAD_COUNT_MAX = 50

# Redis Pool Load Balancing type(ROUND_ROBIN / FIRST_LIGHT)
REDIS_LOAD_BALANCING_TYPE = ROUND_ROBIN

FAIL_COUNT_TO_MAKE_REDIS_POOL_DISABLE = 5

#### 5. Long Running Query Section
LONG_RUNNING_lgvod50000_001=TRUE

#### C Version Naming ####
LONG_QUERY_EXECUTOR_RETRY_SLEEP_TIME_SEC = 3

#### C Version Naming ####
LONG_QUERY_EXECUTOR_RETRY_COUNT = 3

#### C Version Naming ####
LONG_QUERY_EXECUTOR_THREAD_MAX = 3

###########################################
#### HBASE CONNECTION
###########################################

#### 1. HBase H/A Configuration. 
## When HBase fails, the below DB environment will be used for temporary Queue.
DB_USER = VODUSER
DB_PASS = CIS9720
DB_DRIVER = oracle.jdbc.driver.OracleDriver
DB_CONNECTION_URL = jdbc:oracle:thin:@172.21.145.24:1521:MYLGDB1

#### 2. HBase Server Query
HBASE_ZK_SERVER_NUM = 5
HBASE_ZK_SERVER_1 = NSQLHD02
HBASE_ZK_SERVER_2 = NSQLHD03
HBASE_ZK_SERVER_3 = NSQLHD04
HBASE_ZK_SERVER_4 = NSQLHD05
HBASE_ZK_SERVER_5 = NSQLHD06

# For non-retry call timeout with zookeeper and hmaster
HBASE_RPC_TIMEOUT_MILLI = 1500

# For low latency
# This option is not working on hbase full down(750, 2 = About 2500ms)
HBASE_CLIENT_PAUSE_MILLI = 750
HBASE_CLIENT_RETRIES_NUMBER = 2
IPC_PING_INTERVAL_MILLI = 4000
HBASE_IPC_CLIENT_TCPNODELAY = Y

HBASE_CACHE_TABLE_NAME = HDTV_CACHE

HBASE_POOL_MAX_CONNECTION = 50

# Socket timeout in rpc client
HBASE_IPC_SOCKET_TIMEOUT_MILLI = 1000

# For Runtime Blocking
HBASE_REGION_RETRY_INTERVAL_AT_HALF_DOWN_SEC = 10
HBASE_REGION_RETRY_INTERVAL_AT_FULL_DOWN_SEC = 7200
HBASE_FULL_BLOCKING_WATCH_DOG_CHECK_INTERVAL_MILLI = 5000

###########################################
#### CONSISTENCY CHECK SECTION
###########################################

#### 1. CONSISTENCY LEVEL
CHK_LEVEL_1_INITIAL_INTERVAL=1
CHK_LEVEL_1_LAST_INTERVAL=10000
CHK_LEVEL_1_TRANSIT_MULTIPLE =1

CHK_LEVEL_2_INITIAL_INTERVAL=1
CHK_LEVEL_2_LAST_INTERVAL=1000
CHK_LEVEL_2_TRANSIT_MULTIPLE=1

CHK_LEVEL_3_INITIAL_INTERVAL =1
CHK_LEVEL_3_LAST_INTERVAL =100
CHK_LEVEL_3_TRANSIT_MULTIPLE=1

CHK_LEVEL_4_INITIAL_INTERVAL=1
CHK_LEVEL_4_LAST_INTERVAL=10
CHK_LEVEL_4_TRANSIT_MULTIPLE=1

CHK_LEVEL_5_INITIAL_INTERVAL=1
CHK_LEVEL_5_LAST_INTERVAL=1
CHK_LEVEL_5_TRANSIT_MULTIPLE=1

#### 2. CONSISTENCY TARGET
#lgvod189=CHK_LEVEL_3

###########################################
#### TABLE & CODE MAPPING SECTION
###########################################
AVBM_QBIC_3MIN_TB=C001
AVBM_QBIC_TNSVOD_TB=C002
AVBM_BUY_VOD_CNT_TB=C003
NSCN_SBC_TBL=P001
PT_CD_COM_CD=C004
PT_CD_GENRE=C005
PT_CD_PLAY_CHNL=C006
PT_CD_VIRTUAL_CHNL=C007
PT_LA_ALBUM_IMG=C008
PT_LA_ALBUM_MST=C009
PT_LA_CONTENT_ASSET=C010
PT_LA_PACKAGE_ASSET=C011
PT_LA_POSTER_ASSET=C012
PT_LA_TITLE_ASSET=C013
PT_LE_AV_EPG=C014
PT_LE_AV_EPG_VIRTUAL=C015
PT_LP_PRGSCHEDULE_STD=C016
PT_LV_BASE_INFO=C017
PT_LV_DONG_INFO=C018
PT_LV_NODE_INFO=C019
PT_LV_RANGE_IP_INFO=C020
PT_PD_CONTENTS_MST=C021
PT_PD_PACKAGE=C022
PT_PD_PACKAGE_DETAIL=C023
PT_PD_PACKAGE_RELATION=C024
PT_PD_PACKAGE_UNITED=C025
PT_PG_PGM_CUS=C026
PT_PG_PLAN_SCHE=C027
PT_VO_BUY=P002
PT_VO_BUY_DETAIL=P003
PT_VO_BUY_DETAIL_FVOD=P004
PT_VO_BUY_FVOD=P005
PT_VO_CATEGORY=C028
PT_VO_CATEGORY_MAP=C029
PT_VO_CATEGORY_UPDATE=C030
PT_VO_CHNL_UPDATE=C031
PT_VO_CONTENTS_UPDATE=C032
PT_VO_CUSTOM_ID=P006
PT_VO_CUSTOM_OFFER=P007
PT_VO_CUSTOM_POINT=P008
PT_VO_CUSTOM_PRODUCT=P009
PT_VO_CUSTOM_RATING=P010
PT_VO_FAVORITE=P011
PT_VO_GUIDE_VOD=C033
PT_VO_I20_VERSION=C034
PT_VO_IMGSRV_LIST=C035
PT_VO_NSC_PRODUCT=P012
PT_VO_SET_TIME=P013
PT_VO_VOD_VERSION=C036
PT_VO_WATCH_HISTORY=P014
PV_PROD_PRODUCT_TBL=C037
PT_VO_FAVORITE_CH=P015
PT_CD_NSC_CHNL=C038
PT_LB_BRO_MATERIAL=C039
PT_VO_ALERT=P019
PT_CD_CHNL_RATINGS=C041
PT_VO_FAVORITE_GENRE=P016
PT_VO_CATEGORY_OFFER=C042
PT_LA_OST_ASSET=C043
PT_CD_ONECLICK_CHNL=C044
PT_LV_CDNTYPE_INFO=C045
PT_LV_CDN_STBTYPE_INFO=C046
PT_VO_CONT_VOD=C047
PT_VO_SET_TIME_PTT=P017
PT_VO_UX_CUSTOM_POINT=P018
PT_VO_CATEGORY_NOMINATE=C048
PT_VO_I20_SERIES=C049
PT_WC_WATCHA_RATING=C050
PT_LA_ALBUM_PRE=C051
PT_PD_PACKAGE_PPM_INFO=C052
PT_PD_PACKAGE_ISU=C053
PT_PD_PACKAGE_ORDER=C054
PT_WC_WATCHA_COMMENT=C055
PT_WC_WATCHA_SIMILARMOVIE=C056
PT_LA_VISIT_ASSET=C057
PT_CD_MULTIVIEW_GRP=C058
PT_CD_MULTIVIEW_CHNL=C059
PT_CTV_CHANNEL=C060
PT_CTV_OFFSET=C061